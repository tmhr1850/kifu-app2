# 将棋アプリ ユーザーガイド 🎮

このアプリで将棋ゲームを楽しむための操作方法をご説明します。

## 📱 基本画面構成

### メイン画面
```
┌─────────────────────────────────────────────────────────┐
│                     将棋ゲーム                          │
│                      先手番                             │
├─────────────┬───────────────────────┬─────────────────┤
│  後手の持ち駒  │         将棋盤           │   先手の持ち駒    │
│             │                         │                │
│  持ち駒なし   │   9 8 7 6 5 4 3 2 1    │   持ち駒なし     │
│             │ ┌─┬─┬─┬─┬─┬─┬─┬─┬─┐ │                │
│             │ │香│桂│銀│金│王│金│銀│桂│香│ │                │
│             │ ├─┼─┼─┼─┼─┼─┼─┼─┼─┤ │                │
│             │ │  │飛│  │  │  │  │  │角│  │ │                │
│             │ └─┴─┴─┴─┴─┴─┴─┴─┴─┘ │                │
└─────────────┴───────────────────────┴─────────────────┘
│                  新規対局    投了                        │
└─────────────────────────────────────────────────────────┘
```

## 🎯 基本操作方法

### 1. 駒の移動

#### マウス操作
1. **駒を選択**: 動かしたい駒をクリック
   - 選択された駒は**青色**で表示されます
   - ※現在、移動可能な場所のハイライト表示は調整中です

2. **駒を移動**: 移動先のマスをクリック
   - 有効な移動の場合、駒が移動します
   - 無効な移動の場合、エラーメッセージが表示されます

#### キーボード操作
- **矢印キー**: 盤面上のフォーカスを移動
  - `↑` `↓` `←` `→`: フォーカス位置を変更
  - フォーカス位置は**紫色の枠線**で表示されます

- **Enter/Space**: フォーカス位置の駒を選択、または移動を実行

### 2. 持ち駒の使用

1. **持ち駒を選択**: 右側または左側の持ち駒エリアで駒をクリック
2. **配置場所を選択**: 盤面の空いているマスをクリック
   - ※現在、配置可能な場所のハイライト表示は調整中です

### 3. 駒の成り

敵陣（相手側の3段目以内）に駒が入ると、成りの選択ダイアログが表示されます：
- **成る**: 駒を成り駒に変更
- **成らない**: そのまま駒を移動

## 📋 ゲームの流れ

### ゲーム開始
1. アプリを開くと自動的に新しいゲームが開始されます
2. プレイヤーは**先手**（下側）として開始
3. AIが**後手**（上側）を担当

### 手番の進行
1. **先手番**: プレイヤーが駒を動かす
2. **後手番**: AIが自動的に駒を動かす
   - AIが考え中は操作できません
   - 「AIが考え中...」と表示されます
3. これを繰り返してゲームが進行

### ゲーム終了
- **詰み**: 相手の王を詰ませると勝利
- **投了**: 「投了」ボタンで負けを認める
- **新規対局**: 「新規対局」ボタンで新しいゲームを開始

## 🎨 画面表示の説明

### 色分け
- **青色**: 選択中の駒
- **紫色**: キーボードフォーカス位置
- **赤色**: エラーメッセージ
- ~~**緑色**: 移動・配置可能な場所~~（現在調整中）

### 状態表示
- **先手番/後手番**: 現在の手番を表示
- **王手**: 王が攻撃されている状態を表示
- **AIが考え中...**: AIの思考中に表示

## 🚨 エラーメッセージ

よくあるエラーとその対処法：

| エラーメッセージ | 原因 | 対処法 |
|---|---|---|
| "その手は指せません" | 無効な移動 | 駒の動きルールを確認して正しい場所に移動 |
| "他のプレイヤーの駒です" | 相手の駒を選択 | 自分の駒（先手側）を選択 |
| "現在の手番ではありません" | AIの手番中に操作 | AIの手番が終わるまで待機 |
| 操作が効かない | AIが考え中 | 「AIが考え中...」表示が消えるまで待機 |

## 🎯 操作のコツ

### 効率的な操作方法
1. **駒の動きを理解**: 各駒の移動パターンを覚える
2. **先読み**: 相手（AI）の次の手を予想
3. **持ち駒の活用**: 取った駒を効果的に使う

### キーボードナビゲーション
- マウスを使わずにキーボードだけでも操作可能
- アクセシビリティに配慮した設計

## 🔧 トラブルシューティング

### よくある問題

#### 駒が動かない
- **確認点**: 
  - 自分の手番かどうか
  - 正しい駒の動きかどうか
  - AIの思考中でないか

#### 画面が正しく表示されない
- **対処法**: ページを再読み込み（F5）

#### 操作が反応しない
- **対処法**: 
  - 少し待ってから再度操作
  - ブラウザを最新版に更新

## 🎮 将棋のルール（基本）

### 駒の動き
- **歩**: 前に1マス
- **香**: 前方直線
- **桂**: 前方2マス先の左右斜め
- **銀**: 前方3マス、後方斜め2マス
- **金**: 前方3マス、横2マス、後方1マス
- **角**: 斜め方向
- **飛**: 縦横方向
- **王/玉**: 全方向1マス

### 成り駒
敵陣に入ると多くの駒が「成る」ことができ、より強力になります。

## 📞 サポート

### 技術的な問題
- ブラウザの互換性: Chrome、Firefox、Safari対応
- JavaScript有効化が必要

### ゲームルールについて
- 詳細なルールは `docs/requirements/shogi-rules.md` を参照

---

**楽しい将棋ライフをお過ごしください！** 🎉